(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a(94)},37:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(23),c=a.n(s),o=a(24),l=a.n(o),i=(a(36),a(11)),d=a.n(i),u=(a(37),a(29)),h=a(16),m=a(17),p=a(19),g=a(18),f=a(20),C=a(5),b=function(e){return r.a.createElement(C.Navbar,{alignLinks:"right",brand:r.a.createElement("a",{href:"#home"},"React Flash Card"),className:"blue darken-2"},r.a.createElement(C.NavItem,{onClick:function(){return e.handleAddClick()}},"ADD CARD"),r.a.createElement(C.NavItem,{onClick:function(){return e.handleLoginClick()}},e.isLoggedIn?"LOGOUT":"LOGIN"))};function E(e){return e&&e.length>0?e.charAt(0).toUpperCase()+e.substr(1):""}var v=function(e){return r.a.createElement("div",null,r.a.createElement(C.Row,null,r.a.createElement(C.Col,{className:"card-container s10 m8 "},r.a.createElement(C.CardPanel,{className:"qcard front"},r.a.createElement("div",{className:"flow-text"},"Q. ",E(e.currentCard.question))),r.a.createElement(C.CardPanel,{className:"qcard back"},r.a.createElement("div",{className:"flow-text"},"A. ",E(e.currentCard.answer))))),r.a.createElement(C.Row,null,r.a.createElement(C.Col,{className:"s12 m8"},e.touchInput&&r.a.createElement("p",null,"Tip: Tap on the card to reveal answer!")),r.a.createElement(C.Col,{className:"s10 m8 l12"},r.a.createElement(C.Button,{onClick:function(t){e.handleNextCard(t)},className:"blue darken-4"},"Next Card"))))},O=function(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},r.a.createElement("h4",null,"Total Questions"),r.a.createElement("div",{className:"collection"},e.cards.map(function(t,a){return r.a.createElement("p",{style:{cursor:"pointer"},onClick:function(){e.handleCardClick(a)},key:a+"card",className:"collection-item "+(t.active?"active blue white-text":"blue-text ")},"Q. ",E(t.question))}))))},w=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={question:"",answer:"",topic:""},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(C.Modal,{header:"Add a card",actions:[r.a.createElement(C.Button,{waves:"green",modal:"close",flat:!0},"Close"),r.a.createElement(C.Button,{onClick:function(){return e.props.handleCardAdd(e.state)},waves:"green",modal:"close",flat:!0},"Add")],options:{onCloseEnd:function(){return e.props.modalStateChange(!1)},onOpenEnd:function(){return e.props.modalStateChange(!0)}},open:this.props.modelIsOpen},r.a.createElement(C.TextInput,{onChange:function(t){return e.setState({question:t.target.value})},label:"Card Question"}),r.a.createElement(C.TextInput,{onChange:function(t){return e.setState({answer:t.target.value})},label:"Card Answer"}),r.a.createElement(C.TextInput,{onChange:function(t){return e.setState({topic:t.target.value})},label:"Card Topic Name"}))}}]),t}(n.Component),I=a(9),k=a.n(I),A=a(25);var S=function(e){var t=Object(n.useState)(""),a=Object(A.a)(t,2),s=a[0],c=a[1],o=Object(n.useState)(""),l=Object(A.a)(o,2),i=l[0],d=l[1];return r.a.createElement(C.Modal,{header:"Login/Register",actions:[r.a.createElement(C.Button,{onClick:function(){return e.handleRegisterClick({username:s,password:i},!0)},waves:"green",flat:!0},"Register"),r.a.createElement(C.Button,{onClick:function(){return e.handleRegisterClick({username:s,password:i},!1)},waves:"green",flat:!0},"Login")],options:{onCloseEnd:function(){return e.modalStateChange(!1)},onOpenEnd:function(){return e.modalStateChange(!0)}},open:e.loginRegisterIsOpen},r.a.createElement(C.TextInput,{onChange:function(e){return c(e.target.value)},label:"Email"}),r.a.createElement(C.TextInput,{onChange:function(e){return d(e.target.value)},label:"Password"}))};function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var y=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).DEFAULT_STATE={cards:[],currentCard:{question:"n/a",answer:"n/a",topic:""},currentIndex:0,modelIsOpen:!1,loginRegisterIsOpen:!1,isLoggedIn:!1},a.state=Object.assign(a.DEFAULT_STATE),a.handleAddClick=function(){a.setState({modelIsOpen:!0})},a.handleCardAdd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.question,n=e.answer,r=e.topic,s=k.a.auth().currentUser;s?(k.a.database().ref("flashCards/".concat(s.uid,"/cards")).push({question:t,answer:n,topic:r,timestamp:(new Date).getTime()},function(e){e||(d.a.toast({html:"Card Added"}),a.setState({modelIsOpen:!1}))}),k.a.database().ref("flashCards/".concat(s.uid,"/topics/").concat(r)).push({question:t,answer:n,topic:r,timestamp:(new Date).getTime()},function(e){e||(d.a.toast({html:"Card Added"}),a.setState({modelIsOpen:!1}))})):d.a.toast({html:"Login Please!"})},a.handleLoginClick=function(){a.state.isLoggedIn?k.a.auth().signOut():a.setState({loginRegisterIsOpen:!0})},a.handleRegisterClick=function(e,t){t?k.a.auth().createUserWithEmailAndPassword(e.username,e.password).then(function(e){console.log(e)}).catch(function(e){console.error(e),d.a.toast({html:e.message})}):k.a.auth().signInWithEmailAndPassword(e.username,e.password).then(function(e){console.log("user logged in ",e),d.a.toast({html:"Logged in with ".concat(e.user.email)}),a.setState({loginRegisterIsOpen:!1})}).catch(function(e){d.a.toast({html:"Failed to login ".concat(e.message)})})},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.firebase=k.a,k.a.auth().onAuthStateChanged(function(t){t?(e.setState({isLoggedIn:!0}),k.a.database().ref("flashCards/".concat(t.uid,"/cards")).on("child_added",function(t){var a=t.val(),n=e.state.cards;n.push(a),n.forEach(function(e){return e.active=!1}),a.active=!0,e.setState({cards:n,currentCard:a,currentIndex:n.length-1})})):e.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(a,!0).forEach(function(t){Object(u.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e.DEFAULT_STATE,{cards:[]}))})}},{key:"handleNextCard",value:function(e){this.state.cards.length>this.state.currentIndex+1?this.handleCardClick(this.state.currentIndex+1):(console.log("no next card"),d.a.toast({html:"Voila! You have reviewed all the cards."}))}},{key:"handleCardClick",value:function(e){var t=this.state.cards;t.forEach(function(e){return e.active=!1}),t[e].active=!0,this.setState({currentCard:this.state.cards[e],cards:t,currentIndex:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(b,{isLoggedIn:this.state.isLoggedIn,handleLoginClick:this.handleLoginClick,handleAddClick:this.handleAddClick}),r.a.createElement("div",{className:"container"},r.a.createElement(v,{touchInput:"ontouchstart"in window||navigator.msMaxTouchPoints>0,handleNextCard:this.handleNextCard.bind(this),currentCard:this.state.currentCard}),r.a.createElement(O,{handleCardClick:this.handleCardClick.bind(this),cards:this.state.cards})),r.a.createElement(w,{modalStateChange:function(t){e.setState({modelIsOpen:t})},handleCardAdd:this.handleCardAdd,modelIsOpen:this.state.modelIsOpen}),r.a.createElement(S,{modalStateChange:function(t){e.setState({loginRegisterIsOpen:t})},isLoggedIn:this.state.isLoggedIn,handleRegisterClick:this.handleRegisterClick,loginRegisterIsOpen:this.state.loginRegisterIsOpen}))}}]),t}(n.Component);l.a.apps.length||l.a.initializeApp({apiKey:"AIzaSyDoNs5AADTZ-k5ikJ1AE27sX72Jg4Dui8k",authDomain:"tr0nlabs-6f56b.firebaseapp.com",databaseURL:"https://tr0nlabs-6f56b.firebaseio.com",projectId:"tr0nlabs-6f56b",storageBucket:"tr0nlabs-6f56b.appspot.com",messagingSenderId:"1056819810193",appId:"1:1056819810193:web:0a0637664d6b5f2f601430"});var N=document.getElementById("root");c.a.render(r.a.createElement(function(){return r.a.createElement(y,null)},null),N)}},[[31,1,2]]]);
//# sourceMappingURL=main.590182f6.chunk.js.map